{"version":3,"sources":["uitls/useQuery.js","views/PerfectInfo/index.jsx"],"names":["query","url","window","location","href","indexOf","params","split","obj","i","length","param","decodeURIComponent","PerfectInfo","props","useState","nickName","setNickName","age","setAge","decs","setDesc","handleSubmit","a","userName","username","profile","fetchUpdateUser","Toasts","error","history","push","className","type","placeholder","value","onChange","e","target","name","onClick"],"mappings":"2FAceA,IAbf,WACI,IAAIC,EAAMC,OAAOC,SAASC,KAC1B,IAA0B,IAAtBH,EAAII,QAAQ,KAAa,OAAO,KAIpC,IAHA,IACIC,EADOL,EAAIM,MAAM,KACH,GAAGA,MAAM,KACvBC,EAAM,GACDC,EAAI,EAAGA,EAAIH,EAAOI,OAAQD,IAAK,CACpC,IAAIE,EAAQL,EAAOG,GAAGF,MAAM,KAC5BC,EAAIG,EAAM,IAAMC,mBAAmBD,EAAM,IAE7C,OAAOH,I,+ICyDIK,UA9Df,SAAqBC,GAEjB,MAA8BC,mBAAS,4BAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAAoBF,mBAAS,IAA7B,mBAAKG,EAAL,KAAUC,EAAV,KACA,EAAsBJ,mBAAS,IAA/B,mBAAKK,EAAL,KAAWC,EAAX,KAEMC,EAAY,uCAAG,gCAAAC,EAAA,+DACEvB,cAAbwB,EADW,EACXA,SADW,SAGTlB,EAAS,CACTmB,SAAUD,EACVE,QAAS,CACLV,SAAUA,EACVE,IAAKA,EACLE,KAAMA,IARD,SAWGO,YAAgBrB,GAXnB,8DAabsB,YAAO,KAAMC,MAAO,KAbP,QAejBf,EAAMgB,QAAQC,KAAK,SAfF,yDAAH,qDAiBlB,OAAO,qBAAKC,UAAU,oBAAf,SACH,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,wEAEJ,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,qBAAKA,UAAU,aAAf,gCACA,uBAAOC,KAAK,OAAOC,YAAY,iCAAQC,MAAOnB,EAAUoB,SAAU,SAACC,GAC/DpB,EAAYoB,EAAEC,OAAOC,YAI7B,sBAAKP,UAAU,gBAAf,UACI,qBAAKA,UAAU,aAAf,gCACA,uBAAOC,KAAK,OAAOC,YAAY,iCAAQC,MAAOjB,EAAKkB,SAAU,SAACC,GAC1DlB,EAAOkB,EAAEC,OAAOC,YAIxB,sBAAKP,UAAU,gBAAf,UACI,qBAAKA,UAAU,aAAf,gCACA,uBAAOC,KAAK,OAAOC,YAAY,iCAAQC,MAAOf,EAAMgB,SAAU,SAACC,GAC3DhB,EAAQgB,EAAEC,OAAOC,eAK7B,sBAAKP,UAAU,iBAAf,UACI,qBAAKQ,QAAS,WACVlB,KADJ,kBAGA,qBAAKkB,QAAS,WACVlB,KADJ","file":"static/js/9.c51279bf.chunk.js","sourcesContent":["\r\nfunction query() {\r\n    let url = window.location.href\r\n    if (url.indexOf('?') === -1) return null\r\n    var arr1 = url.split(\"?\");\r\n    var params = arr1[1].split(\"&\");\r\n    var obj = {};\r\n    for (var i = 0; i < params.length; i++) {\r\n        var param = params[i].split(\"=\");\r\n        obj[param[0]] = decodeURIComponent(param[1]);\r\n    }\r\n    return obj;\r\n}\r\n\r\nexport default query","import \"./index.scss\"\r\nimport { fetchUpdateUser } from \"../../services/fake-services\"\r\nimport { useState } from \"react\"\r\nimport Toasts from \"../../component/Loading\";\r\nimport query from '../../uitls/useQuery'\r\n\r\nfunction PerfectInfo(props) {\r\n\r\n    let [nickName, setNickName] = useState(\"默认昵称\");\r\n    let [age, setAge] = useState(\"\");\r\n    let [decs, setDesc] = useState(\"\");\r\n\r\n    const handleSubmit = async () => {\r\n        let { userName } = query()\r\n        try {\r\n            let params = {\r\n                username: userName,\r\n                profile: {\r\n                    nickName: nickName,\r\n                    age: age,\r\n                    decs: decs\r\n                }\r\n            }\r\n            let res = await fetchUpdateUser(params)\r\n        } catch (error) {\r\n            Toasts(error.error, 1000);\r\n        }\r\n        props.history.push(\"/home\")\r\n    }\r\n    return <div className=\"perfect-container\">\r\n        <div className=\"perfect-content\">\r\n            <div className=\"perfect-title\">\r\n                <h3>完善个人信息</h3>\r\n            </div>\r\n            <div className=\"perfect-form\">\r\n                <div className=\"perfect-input\">\r\n                    <div className=\"form-label\">昵称：</div>\r\n                    <input type=\"text\" placeholder=\"请输入昵称\" value={nickName} onChange={(e) => {\r\n                        setNickName(e.target.name)\r\n                    }} />\r\n\r\n                </div>\r\n                <div className=\"perfect-input\">\r\n                    <div className=\"form-label\">年龄：</div>\r\n                    <input type=\"text\" placeholder=\"请输入年龄\" value={age} onChange={(e) => {\r\n                        setAge(e.target.name)\r\n                    }} />\r\n\r\n                </div>\r\n                <div className=\"perfect-input\">\r\n                    <div className=\"form-label\">简介：</div>\r\n                    <input type=\"text\" placeholder=\"请输入简介\" value={decs} onChange={(e) => {\r\n                        setDesc(e.target.name)\r\n                    }} />\r\n\r\n                </div>\r\n            </div>\r\n            <div className=\"perfect-button\">\r\n                <div onClick={() => {\r\n                    handleSubmit()\r\n                }}>pass</div>\r\n                <div onClick={() => {\r\n                    handleSubmit()\r\n                }}>submit</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\nexport default PerfectInfo"],"sourceRoot":""}